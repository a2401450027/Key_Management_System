{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>æ•°æ®åº“åŠ å¯†ä¸­é—´ä»¶</title>
      <link rel="stylesheet" href="{% static 'plugins/bootstrap-3.4.1-dist/css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/font-awesome-4.7.0/css/font-awesome.min.css' %}">
    <style>
    * {
        /* åˆå§‹åŒ– æ¸…é™¤é¡µé¢å…ƒç´ çš„å†…å¤–è¾¹è· */
        padding: 0;
        margin: 0;
        /* ç›’å­æ¨¡å‹ */
        box-sizing: border-box;
    }
    canvas{
            /* é»˜è®¤ 300x150  canvasä¸èƒ½åœ¨CSSä¸­è®¾ç½®å®½é«˜ */
            background-color: black;
            position: absolute;
            top: 0;
            left: 0;
        }
    .Label{
        padding-left: 25px;
        text-align: right;
    }
    body {
        /* å¼¹æ€§å¸ƒå±€ è®©é¡µé¢å…ƒç´ å‚ç›´+æ°´å¹³å±…ä¸­ */
        display: flex;
        justify-content: center;
        align-items: center;
        /* è®©é¡µé¢å§‹ç»ˆå æµè§ˆå™¨å¯è§†åŒºåŸŸæ€»é«˜åº¦ */
        height: 100vh;
        /* èƒŒæ™¯æ¸å˜è‰² */
        {#background-image: url("../static/img/èƒŒæ™¯.png");#}
        {#    background-size: cover;#}
        {#background-image: radial-gradient(circle, #b1a9ad, #9f989d, #8c888e, #7a787e, #68686f, #595b61, #4b4e54, #3e4246, #313537, #242829, #191b1b, #0c0d0d);#}
    }
    .login {
        /* å¼¹æ€§å¸ƒå±€ è®©å­å…ƒç´ ç§°ä¸ºå¼¹æ€§é¡¹ç›® */
        display: flex;
        /* è®©å¼¹æ€§é¡¹ç›®å‚ç›´æ’åˆ— åŸç†æ˜¯æ”¹å˜å¼¹æ€§ç›’å­çš„ä¸»è½´æ–¹å‘ çˆ¶å…ƒç´ å°±æ˜¯å¼¹æ€§ç›’å­ ç°åœ¨æ”¹å˜åçš„ä¸»è½´æ–¹å‘æ˜¯å‘ä¸‹äº† */
        flex-direction: column;
        /* è®©å¼¹æ€§é¡¹ç›®åœ¨äº¤å‰è½´æ–¹å‘æ°´å¹³å±…ä¸­ ç°åœ¨ä¸»è½´çš„æ–¹å‘æ˜¯å‘ä¸‹ äº¤å‰è½´çš„æ–¹å‘æ˜¯ä¸ä¸»è½´å‚ç›´ äº¤å‰è½´çš„æ–¹å‘æ˜¯å‘å³ */
        align-items: center;
        width: 400px;
        padding: 40px;
        background-color: rgba(0, 0, 0, 0.2);
        box-shadow: 0 15px 25px rgba(10, 10, 10, 50.4);
    }
    .login h2 {
        color: #fff;
        margin-bottom: 30px;
    }
    .login .login_box {
        /* ç›¸å¯¹å®šä½ */
        position: relative;
        width: 100%;
    }
    .login .login_box input {
        /* æ¸…é™¤inputæ¡†è‡ªå¸¦çš„è¾¹æ¡†å’Œè½®å»“ */
        outline: none;
        border: none;
        width: 100%;
        padding: 10px 0;
        margin-bottom: 30px;
        color: #fff;
        font-size: 16px;
        border-bottom: 1px solid #fff;
        /* èƒŒæ™¯é¢œè‰²ä¸ºé€æ˜è‰² */
        background-color: transparent;
    }
    .login .login_box label {
        position: absolute;
        top: 0;
        left: 0;
        padding: 10px 0;
        color: #fff;
        /* è¿™ä¸ªå±æ€§çš„é»˜è®¤å€¼æ˜¯auto é»˜è®¤æ˜¯è¿™ä¸ªå…ƒç´ å¯ä»¥è¢«ç‚¹å‡» ä½†æ˜¯å¦‚æœæˆ‘ä»¬å†™äº†none å°±æ˜¯è¿™ä¸ªå…ƒç´ ä¸èƒ½è¢«ç‚¹å‡» , å°±å¥½åƒå®ƒå¯è§ä½†æ˜¯ä¸èƒ½ç”¨ å¯æœ›è€Œä¸å¯å³ */
        /* è¿™ä¸ªå°±æ˜¯ä¸¤è€…çš„åŒºåˆ« */
        pointer-events: none;
        /* åŠ ä¸ªè¿‡æ¸¡ */
        transition: all 0.5s;
    }
    /* :focus é€‰æ‹©å™¨æ˜¯å½“inputè·å¾—ç„¦ç‚¹æ˜¯è§¦å‘çš„æ ·å¼ + æ˜¯ç›¸é‚»å…„å¼Ÿé€‰æ‹©å™¨ å»æ‰¾ä¸inputç›¸é‚»çš„å…„å¼Ÿlabel */
    /* :valid é€‰æ‹©å™¨æ˜¯åˆ¤æ–­inputæ¡†çš„å†…å®¹æ˜¯å¦åˆæ³•,å¦‚æœåˆæ³•ä¼šæ‰§è¡Œä¸‹é¢çš„å±æ€§ä»£ç ,ä¸åˆæ³•å°±ä¸ä¼šæ‰§è¡Œ,æˆ‘ä»¬åˆšå¼€å§‹å†™å¸ƒå±€çš„æ—¶å€™ç»™inputæ¡†å†™äº†required æˆ‘ä»¬åˆ æ‰çœ‹å¯¹æ¯” å½“æ²¡æœ‰requiredçš„è¯inputæ¡†çš„å€¼å°±ä¼šè¢«è®¤ä¸ºä¸€ç›´åˆæ³•,æ‰€ä»¥ä¸€ç›´éƒ½æ˜¯ä¸‹æ–¹çš„æ ·å¼ ,ä½†æ˜¯å¯†ç ä¸ä¼š,å¯†ç æ¡†å†…çš„å€¼ä¸ºç©º,é‚£ä¹ˆè¿™å¥è¯å±€ä¸åˆæ³•,requiredä¸èƒ½ä¸ºç©º å½“æˆ‘ä»¬ç»™å¯†ç æ¡†å†™ç‚¹ä¸œè¥¿çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œä»¥ä¸‹ä»£ç */
    .login .login_box input:focus + label,
    .login .login_box input:valid + label {
        top: -20px;
        color: #03e9f4;
        font-size: 12px;
    }
    .login a {
        overflow: hidden;
        position: relative;
        padding: 10px 20px;
        color: #03e9f4;
        /* å–æ¶ˆaè¡¨ç°åŸæœ‰çš„ä¸‹åˆ’çº¿ */
        text-decoration: none;
        /* åŒæ ·åŠ ä¸ªè¿‡æ¸¡ */
        transition: all 0.5s;
    }
    .login a:hover {
        color: #fff;
        border-radius: 5px;
        background-color: #03e9f4;
        box-shadow: 0 0 5px #03e9f4, 0 0 25px #03e9f4, 0 0 50px #03e9f4,
            0 0 100px #03e9f4;
    }
    .login a span {
        position: absolute;
    }
    .login a span:first-child {
        top: 0;
        left: -100%;
        width: 100%;
        height: 2px;
        /* to right å°±æ˜¯å¾€å³è¾¹ ä¸‹é¢çš„åŒç† */
        background: linear-gradient(to right, transparent, #03e9f4);
        /* åŠ¨ç”» åç§° æ—¶é•¿ linearæ˜¯åŒ€é€Ÿè¿åŠ¨ infiniteæ˜¯æ— é™æ¬¡è¿åŠ¨ */
        animation: move1 1s linear infinite;
    }
    .login a span:nth-child(2) {
        right: 0;
        top: -100%;
        width: 2px;
        height: 100%;
        background: linear-gradient(transparent, #03e9f4);
        /* è¿™é‡Œå¤šäº†ä¸ª0.25så…¶å®æ˜¯å»¶è¿Ÿæ—¶é—´ */
        animation: move2 1s linear 0.25s infinite;
    }
    .login a span:nth-child(3) {
        right: -100%;
        bottom: 0;
        width: 100%;
        height: 2px;
        background: linear-gradient(to left, transparent, #03e9f4);
        animation: move3 1s linear 0.5s infinite;
    }
    .login a span:last-child {
        left: 0;
        bottom: -100%;
        width: 2px;
        height: 100%;
        background: linear-gradient(#03e9f4, transparent);
        animation: move4 1s linear 0.75s infinite;
    }
    /* å†™ä¸€ä¸‹åŠ¨ç”» å†åšæŒä¸€ä¸‹ è§†é¢‘é©¬ä¸Šå°±å®Œäº† */
    @keyframes move1 {
        0% {
            left: -100%;
        }
        50%,
        100% {
            left: 100%;
        }
    }
    @keyframes move2 {
        0% {
            top: -100%;
        }
        50%,
        100% {
            top: 100%;
        }
    }
    @keyframes move3 {
        0% {
            right: -100%;
        }
        50%,
        100% {
            right: 100%;
        }
    }
    @keyframes move4 {
        0% {
            bottom: -100%;
        }
        50%,
        100% {
            bottom: 100%;
        }
    }
    {% block sty %}
    {% endblock %}
    </style>
</head>
<body>
<div class=" login">
        <canvas width="400" height="200"></canvas>
<a href="/main/"><img style="left: 0;top: 0" width="300px"  src="../static/img/key_logo.png"></a>
   <div class="">
    <h2>ç™»  å½•</h2>
        <form id="regForm" method="post" action="/login/" novalidate>
            {% csrf_token %}
            <div class="login_box">
                {{ form.user }}<label>è´¦å·</label>
                <span style="color: red">{{ form.user.errors.0 }}</span>
            </div>
            <div class="login_box">
                {{ form.password }}<label>å¯†ç </label>
                <span style="color: red">{{ form.password.errors.0 }}</span>
            </div>
            <a id="btnSubmit" type="submit" class="btn" onclick="document.getElementById('regForm').submit()">
                ç™» å½•
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </a>
            <a href="/register/" class="btn">
                æ³¨ å†Œ
                <span></span>
                <span></span>
                <span></span>
                <span></span>
            </a>

        </form>
    </div>
</div>

<script src="{% static 'js/jquary.min.js' %}"></script>
<script src="{% static 'plugins/bootstrap-3.4.1-dist/js/bootstrap.min.js' %}"></script>
<script language="javascript">
      //1.ç”»å¸ƒ
        let canvas = document.querySelector('canvas');
        //2.ç”»ç¬” 2d å¹³é¢
        let ctx = canvas.getContext('2d');
        //è·å–æµè§ˆå™¨çš„å®½ å’Œ é«˜ èµ‹å€¼ ç”»å¸ƒ è·å–å¯è§åŒºåŸŸçš„å¤§å°
        let ww = document.documentElement.clientWidth;
        let hh = document.documentElement.clientHeight;
        //èµ‹å€¼
        canvas.width = ww;
        canvas.height = hh;
        //1.ç»˜åˆ¶çš„æ–‡å­—  2.Xè½´çš„ä½ç½®  3.Yè½´çš„ä½ç½®
        //æ¯ä¸ªå­—çš„å¤§å°
        let fontSize = 10;
        //ä¸€è¡Œå¯ä»¥æ”¾å¤šå°‘ä¸ªå­—  è¿›è¡Œå–æ•´  73.123456  å‘ä¸Š  74   å‘ä¸‹  73
        let clos = Math.floor(ww/fontSize);
        let num = Array.from({ length: clos }, () => Math.floor(Math.random() * hh / fontSize));

        //2.ç»˜åˆ¶æ–‡å­—çš„å‡½æ•°
        function draw(){
            //å¹•å¸ƒæ•ˆæœ  é¢œè‰²
            ctx.fillStyle = 'rgba(0,0,0,0.05)';//æ¯ç»˜åˆ¶ä¸€æ¬¡+0.05
            //å¹•å¸ƒç»˜åˆ¶çš„ä½ç½®  ä»X  0  Y  0  åˆ°  X  ww  Y  hh  ç»“æŸ
            ctx.fillRect(0,0,ww,hh);

            //åˆ›å»ºä¸€ä¸ªæ•°å­—ç»„å­˜æ”¾ç‰¹æ•ˆå­—ç¬¦
            {#let sec = ['ğŸŒŸ','ğŸŒ','âœ¨','â˜”','ğŸ˜¹'];//å¯è‡ªè¡Œæ·»åŠ è‡ªå·±å–œæ¬¢çš„ç‰¹æ•ˆå­—ç¬¦#}
            let sec = ['K','E','Y','M','A','N','A','G','E'];
            for(let i = 0; i < sec.length; i++){
                let s = Math.floor(Math.random() * sec.length);
                str = sec[s];
            }

            // let str = 'â†';//ä¸ä½¿ç”¨æ•°ç»„çš„è¯·å†µ
            ctx.font = '600 '+fontSize+'px å¾®è½¯é›…é»‘'
            ctx.fillStyle = 'green'

            for(let i = 0; i < clos; i++){
                let x = i * fontSize;
                let y = num[i] * fontSize;
                ctx.fillText(str,x,y);//æ ¸å¿ƒä»£ç   æ–¹æ³•  æ¯æ¬¡  å†™ä¸€ä¸ªå­—
                num[i]++;
                if(y > hh && Math.random() > 0.995){
                    num[i] = 0;
                }
            }
        }
        setInterval(draw,100);
    </script>
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="KEY-M" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../static/img/logo.png" type="image/x-icon">
    <title>å¯†é’¥ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        body{
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        canvas{
            /* é»˜è®¤ 300x150  canvasä¸èƒ½åœ¨CSSä¸­è®¾ç½®å®½é«˜ */
            background-color: black;
            position: absolute;
            top: 0;
            left: 0;
        }
        .container {
            position: relative;
            width: 100%;
            height: 100vh;
        }
        .main{
            position: absolute;
            width: 80%;
            height: 80%;
            border: 3px solid green;
            border-radius: 10px;
            margin: 5% 0 0 10%;
        }
    </style>

</head>
<body>
    <div class="container">
        <canvas width="400" height="200"></canvas>
        <a href="/main/"><img src="../static/img/key_logo.png" width="280px" style="position: absolute"></a>
        <img src="../static/img/å¤´åƒ1.png" width="80px" style="position: absolute;margin: 1% 0 0 93%" title="{{ name }}">
        <a href="/logout/"><img src="../static/img/logout.png" width="60px" style="position: absolute;margin-left: 94%;bottom: 10px" title="ç‚¹å‡»é€€å‡º"></a>
        <div class="main">
            <div style="position: absolute;width: 150px;height: 150px;margin-left: 26%;margin-top: 10%;color: green;font-size: 22px;font-weight: bold;text-align: center;">
                <a href="/keycreate/">
                    <img src="../static/img/å¯†é’¥ç”Ÿæˆ.png" width="100px" style="border: 4px solid green;border-radius: 15px">
                </a>
                <br>å¯†é’¥ç”Ÿæˆ
            </div>
            <div style="position: absolute;width: 150px;height: 150px;margin-left: 66%;margin-top: 10%;color: green;font-size: 22px;font-weight: bold;text-align: center;">
                <a href="/keymanage/">
                    <img src="../static/img/manage.png" width="100px" style="border: 4px solid green;border-radius: 15px">
                </a>
                <br>å¯†é’¥ç®¡ç†
            </div>
            <div style="position: absolute;width: 150px;height: 150px;margin-left: 26%;margin-top: 30%;color: green;font-size: 22px;font-weight: bold;text-align: center;">
                <a href="/keylevel/">
                    <img src="../static/img/level.png" width="100px" style="border: 4px solid green;border-radius: 15px">
                </a>
                <br>åˆ†çº§ç®¡ç†
            </div>
            <div style="position: absolute;width: 150px;height: 150px;margin-left: 66%;margin-top: 30%;color: green;font-size: 22px;font-weight: bold;text-align: center;">
                <a href="/logging/">
                    <img src="../static/img/logging.png" width="100px" height="100px" style="border: 4px solid green;border-radius: 15px">
                </a>
                <br>æ—¥å¿—è®°å½•
            </div>
        </div>
    </div>



    <script>
        //1.ç”»å¸ƒ
        let canvas = document.querySelector('canvas');
        //2.ç”»ç¬” 2d å¹³é¢
        let ctx = canvas.getContext('2d');
        //è·å–æµè§ˆå™¨çš„å®½ å’Œ é«˜ èµ‹å€¼ ç”»å¸ƒ è·å–å¯è§åŒºåŸŸçš„å¤§å°
        let ww = document.documentElement.clientWidth;
        let hh = document.documentElement.clientHeight;
        //èµ‹å€¼
        canvas.width = ww;
        canvas.height = hh;
        //1.ç»˜åˆ¶çš„æ–‡å­—  2.Xè½´çš„ä½ç½®  3.Yè½´çš„ä½ç½®
        //æ¯ä¸ªå­—çš„å¤§å°
        let fontSize = 10;
        //ä¸€è¡Œå¯ä»¥æ”¾å¤šå°‘ä¸ªå­—  è¿›è¡Œå–æ•´  73.123456  å‘ä¸Š  74   å‘ä¸‹  73
        let clos = Math.floor(ww/fontSize);
        let num = Array.from({ length: clos }, () => Math.floor(Math.random() * hh / fontSize));

        //2.ç»˜åˆ¶æ–‡å­—çš„å‡½æ•°
        function draw(){
            //å¹•å¸ƒæ•ˆæœ  é¢œè‰²
            ctx.fillStyle = 'rgba(0,0,0,0.05)';//æ¯ç»˜åˆ¶ä¸€æ¬¡+0.05
            //å¹•å¸ƒç»˜åˆ¶çš„ä½ç½®  ä»X  0  Y  0  åˆ°  X  ww  Y  hh  ç»“æŸ
            ctx.fillRect(0,0,ww,hh);

            //åˆ›å»ºä¸€ä¸ªæ•°å­—ç»„å­˜æ”¾ç‰¹æ•ˆå­—ç¬¦
            {#let sec = ['ğŸŒŸ','ğŸŒ','âœ¨','â˜”','ğŸ˜¹'];//å¯è‡ªè¡Œæ·»åŠ è‡ªå·±å–œæ¬¢çš„ç‰¹æ•ˆå­—ç¬¦#}
            let sec = ['K','E','Y','M','A','N','A','G','E'];
            for(let i = 0; i < sec.length; i++){
                let s = Math.floor(Math.random() * sec.length);
                str = sec[s];
            }

            // let str = 'â†';//ä¸ä½¿ç”¨æ•°ç»„çš„è¯·å†µ
            ctx.font = '600 '+fontSize+'px å¾®è½¯é›…é»‘'
            ctx.fillStyle = 'green'

            for(let i = 0; i < clos; i++){
                let x = i * fontSize;
                let y = num[i] * fontSize;
                ctx.fillText(str,x,y);//æ ¸å¿ƒä»£ç   æ–¹æ³•  æ¯æ¬¡  å†™ä¸€ä¸ªå­—
                num[i]++;
                if(y > hh && Math.random() > 0.995){
                    num[i] = 0;
                }
            }
        }
        setInterval(draw,100);
    </script>
</body>
</html>
